<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Monsters - Contador de PV e Energia</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #1a1e28;
            --card-bg-color: #2b303d;
            --text-color: #e2e8f0;
            --primary-color: #c9a567; /* Dourado mais forte */
            --secondary-color: #4b586e; /* Cinza met√°lico */
            --pv-color: #5abf7a; /* Verde gema */
            --energy-color: #f5c94a; /* Amarelo gema */
            --pv-zero-color: #ff6b6b; /* Vermelho para PV 0 */
            --border-radius: 10px;
            --spacing: 20px;
        }

        body {
            font-family: 'Cinzel', serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: var(--spacing);
            display: flex;
            flex-direction: column;
            gap: var(--spacing);
            box-sizing: border-box;
            align-items: center;
            min-height: 100vh;
        }

        .player-card {
            background-color: var(--card-bg-color);
            padding: var(--spacing);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            text-align: center;
            border: 2px solid var(--primary-color);
            position: relative;
            width: 90%;
            max-width: 450px;
            transition: transform 0.3s ease-in-out;
        }
        
        .player-card::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border: 3px solid var(--secondary-color);
            border-radius: var(--border-radius);
            z-index: -1;
        }

        h2 {
            margin: 0 0 10px 0;
            color: var(--primary-color);
            cursor: pointer;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            gap: 10px;
            margin-top: 15px;
        }

        .stat-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }

        .stat-label {
            font-weight: bold;
            font-size: 1em;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--text-color);
            cursor: pointer;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        #pv-p1, #pv-p2 {
            color: var(--pv-color);
        }
        
        .pv-zero {
            color: var(--pv-zero-color) !important;
        }

        #energy-p1, #energy-p2 {
            color: var(--energy-color);
        }

        .action-button {
            background-color: var(--primary-color);
            color: var(--bg-color);
            border: none;
            border-radius: 5px;
            padding: 12px 20px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            width: 100%;
            text-transform: uppercase;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            text-decoration: none;
            text-align: center;
        }
        .action-button:hover {
            background-color: #b07d35;
            transform: scale(1.02);
        }
        .action-button:active {
            transform: scale(0.98);
        }
        
        .energy-button {
            background-color: var(--energy-color);
            color: var(--bg-color);
        }
        .energy-button:hover {
            background-color: #e0b400;
        }

        .rules-button {
            background-color: var(--secondary-color);
            color: var(--text-color);
        }
        .rules-button:hover {
            background-color: #3b4252;
        }

        .reset-button {
            background-color: #8c8c8c;
        }
        .reset-button:hover {
            background-color: #7a7a7a;
        }

        .plus-minus-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 10px;
        }

        .plus-minus-button {
            background-color: var(--secondary-color);
            color: var(--text-color);
            border: 2px solid var(--primary-color);
            width: 45px;
            height: 45px;
            font-size: 1.5em;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .plus-minus-button:hover {
            background-color: #5d6d7e;
            transform: scale(1.05);
        }
        .plus-minus-button:active {
            transform: scale(0.95);
        }

        .dice-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--primary-color);
            color: var(--bg-color);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .dice-button:hover {
            background-color: #b07d35;
            transform: scale(1.05);
        }
        
        .dice-button:disabled {
            background-color: #666;
            cursor: not-allowed;
            opacity: 0.5;
            transform: none;
        }
        
        .dice-button:disabled:hover {
            background-color: #666;
            transform: none;
        }

        .dice-animation {
            animation: diceRoll 0.8s ease-in-out;
        }
        
        @keyframes diceRoll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.2); }
            50% { transform: rotate(180deg) scale(1.1); }
            75% { transform: rotate(270deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .players-container {
            display: flex;
            flex-direction: column;
            gap: var(--spacing);
            width: 100%;
            margin: 0 auto;
        }
        
        .main-controls-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
            max-width: 450px;
            margin: 0 auto;
        }

        .secondary-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        /* --- Anima√ß√µes para os cards --- */
        @keyframes pulse-winner {
            0% { transform: scale(1); box-shadow: 0 0 10px var(--pv-color); }
            50% { transform: scale(1.03); box-shadow: 0 0 20px var(--pv-color); }
            100% { transform: scale(1); box-shadow: 0 0 10px var(--pv-color); }
        }

        @keyframes pulse-loser {
            0% { transform: scale(1); box-shadow: 0 0 10px var(--pv-zero-color); }
            50% { transform: scale(0.97); box-shadow: 0 0 20px var(--pv-zero-color); }
            100% { transform: scale(1); box-shadow: 0 0 10px var(--pv-zero-color); }
        }
        
        .winner-card {
            animation: pulse-winner 1s infinite;
            border-color: var(--pv-color);
        }
        
        .loser-card {
            animation: pulse-loser 1s infinite;
            border-color: var(--pv-zero-color);
        }

        /* --- Pop-up de Regras (Modal) --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.3s ease;
            z-index: 1000;
        }

        .modal-overlay.visible {
            visibility: visible;
            opacity: 1;
        }

        .modal-content {
            background-color: var(--card-bg-color);
            padding: var(--spacing);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            border: 2px solid var(--primary-color);
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 2em;
            color: var(--primary-color);
            text-decoration: none;
            line-height: 1;
            cursor: pointer;
        }
        .modal-close:hover {
            color: var(--energy-color);
        }

        .rules-text h3 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 5px;
            margin-top: 20px;
        }
        .rules-text h3:first-of-type {
            margin-top: 0;
        }

        .rules-text p {
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: left;
        }

        /* Layout para Telas maiores que 550px (sem limite de orienta√ß√£o) */
        @media (min-width: 550px) {
            body {
                height: 100vh;
                overflow-y: hidden;
                padding: var(--spacing) 50px;
            }
            
            .players-container {
                flex-direction: row;
                justify-content: center;
                gap: 50px;
                max-width: 900px;
                width: 100%;
            }

            .player-card {
                flex: 1;
                max-width: none;
            }
            
            .main-controls-container {
                max-width: 600px;
            }

            .secondary-controls {
                flex-direction: row;
                justify-content: center;
                gap: 20px;
            }
            
            .secondary-controls .action-button {
                flex: 1;
            }
        }
    </style>
</head>
<body>

    <div class="players-container">
        <div class="player-card" id="card-p1">
            <button class="dice-button" id="dice-p1" onclick="rollDice('p1')" title="Dado da Sorte (2 energia)">üé≤</button>
            <h2 id="name-p1" onclick="editName('p1')">Jogador 1</h2>
            <div class="stats-container">
                <div class="stat-box">
                    <span class="stat-label">PV</span>
                    <span id="pv-p1" class="stat-value" onclick="editStatValue('pv', 'p1')">100</span>
                    <div class="plus-minus-row">
                        <button class="plus-minus-button" 
                                onclick="handlePvClick('pv', 'p1', -1, event)" 
                                onmousedown="startAutoDecrement('pv', 'p1', event)" 
                                onmouseup="stopAutoDecrement()" 
                                onmouseleave="stopAutoDecrement()"
                                ontouchstart="startAutoDecrement('pv', 'p1', event)" 
                                ontouchend="stopAutoDecrement()">-</button>
                        <button class="plus-minus-button" onclick="changeStat('pv', 'p1', 1)">+</button>
                    </div>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Energia</span>
                    <span id="energy-p1" class="stat-value">5</span>
                    <div class="plus-minus-row">
                        <button class="plus-minus-button" onclick="changeStat('energy', 'p1', -1)">-</button>
                        <button class="plus-minus-button" onclick="changeStat('energy', 'p1', 1)">+</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="player-card" id="card-p2">
            <button class="dice-button" id="dice-p2" onclick="rollDice('p2')" title="Dado da Sorte (2 energia)">üé≤</button>
            <h2 id="name-p2" onclick="editName('p2')">Jogador 2</h2>
            <div class="stats-container">
                <div class="stat-box">
                    <span class="stat-label">PV</span>
                    <span id="pv-p2" class="stat-value" onclick="editStatValue('pv', 'p2')">100</span>
                    <div class="plus-minus-row">
                        <button class="plus-minus-button" 
                                onclick="handlePvClick('pv', 'p2', -1, event)" 
                                onmousedown="startAutoDecrement('pv', 'p2', event)" 
                                onmouseup="stopAutoDecrement()" 
                                onmouseleave="stopAutoDecrement()"
                                ontouchstart="startAutoDecrement('pv', 'p2', event)" 
                                ontouchend="stopAutoDecrement()">-</button>
                        <button class="plus-minus-button" onclick="changeStat('pv', 'p2', 1)">+</button>
                    </div>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Energia</span>
                    <span id="energy-p2" class="stat-value">5</span>
                    <div class="plus-minus-row">
                        <button class="plus-minus-button" onclick="changeStat('energy', 'p2', -1)">-</button>
                        <button class="plus-minus-button" onclick="changeStat('energy', 'p2', 1)">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="main-controls-container">
        <button class="action-button energy-button" onclick="increaseEnergyForBoth()">Fase de Energia</button>
        <div class="secondary-controls">
            <button class="action-button reset-button" onclick="resetGame()">Reiniciar Jogo</button>
            <button class="action-button rules-button" onclick="showRulesModal()">Regras do Jogo</button>
        </div>
    </div>

    <div id="rules-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close" onclick="closeRulesModal()">&times;</span>
            <div class="rules-text">
                <h2>Regras do Jogo X Monsters</h2>
                
                <h3>1. Objetivo e Condi√ß√£o de Vit√≥ria</h3>
                <p>O objetivo principal do jogo √© ser o √∫nico jogador com monstros em campo e/ou reduzir os pontos de vida do seu oponente a zero.</p>
                <p><strong>Pontos de Vida (PV):</strong> Cada jogador come√ßa com 100 pontos de vida. Se o seu PV chegar a zero ou menos, voc√™ perde a partida.</p>

                <h3>2. Energia</h3>
                <p>A energia √© o recurso principal do jogo, usado para invocar monstros e equipar cartas de suporte.</p>
                <p><strong>Energia Inicial:</strong> Voc√™ come√ßa o jogo com 5 pontos de energia.</p>
                <p><strong>Aumento de Energia:</strong> A cada turno, na sua Fase de Energia, sua energia aumenta em 1 ponto.</p>
                <p><strong>Limite de Ac√∫mulo:</strong> A energia m√°xima que voc√™ pode acumular √© de 12 pontos.</p>
                <p><strong>Dado da Sorte:</strong> Uma vez por jogo, cada jogador pode gastar 2 pontos de energia para rolar um dado da sorte e ganhar de 1 a 6 pontos de energia adicionais (sem ultrapassar o limite de 12).</p>

                <h3>3. Fases do Turno</h3>
                <p>Cada turno de um jogador √© dividido em tr√™s fases obrigat√≥rias, que devem ser seguidas em sequ√™ncia:</p>
                <ul>
                    <li><strong>Fase de Energia:</strong> Sua energia total aumenta em 1 ponto, at√© o limite de 12.</li>
                    <li><strong>Fase de Invoca√ß√£o:</strong> Nesta fase, voc√™ pode gastar sua energia para jogar cartas da sua m√£o. Voc√™ pode invocar qualquer n√∫mero de monstros e equipar cartas de suporte, desde que tenha energia suficiente para pagar o custo de cada carta.</li>
                    <li><strong>Fase de Combate:</strong> Voc√™ pode declarar ataques com seus monstros contra os monstros do oponente. Cada um dos seus monstros pode atacar uma vez por turno, a menos que sua habilidade especial diga o contr√°rio.</li>
                </ul>

                <h3>4. Combate e Dano</h3>
                <p><strong>Ataque:</strong> Para atacar, escolha um de seus monstros e declare-o como atacante, escolhendo um monstro do oponente como alvo.</p>
                <p><strong>C√°lculo de Dano:</strong> O dano de um ataque √© calculado subtraindo a Defesa do monstro do oponente do Ataque do seu monstro.</p>
                <p><strong>Derrota:</strong> Se a Defesa de um monstro chegar a 0 ou menos, ele √© considerado derrotado e √© removido do campo.</p>
                <p><strong>Dano aos Pontos de Vida:</strong> Se o Ataque de um monstro for maior que a Defesa do monstro alvo, o dano restante √© aplicado diretamente aos pontos de vida do oponente.</p>

                <h3>5. Mec√¢nicas Adicionais</h3>
                <p><strong>Evolu√ß√£o:</strong> Alguns monstros t√™m uma forma evolu√≠da. O custo para evoluir √© a diferen√ßa de energia entre a criatura b√°sica e sua vers√£o evolu√≠da. A carta evolu√≠da substitui a criatura b√°sica no campo.</p>
                <p><strong>Cartas de Suporte:</strong> Essas cartas s√£o itens equip√°veis que fornecem b√¥nus de Ataque e Defesa, al√©m de habilidades especiais. Cada carta de suporte tem seu pr√≥prio custo de energia para ser equipada em um monstro.</p>
            </div>
        </div>
    </div>

    <!-- Elementos de √°udio -->
    <audio id="punchSound" preload="auto">
        <source src="punch.mp3" type="audio/mpeg">
    </audio>
    <audio id="victorySound" preload="auto">
        <source src="victory.mp3" type="audio/mpeg">
    </audio>
    <audio id="energySound" preload="auto">
        <source src="energy.mp3" type="audio/mpeg">
    </audio>
    <audio id="healingSound" preload="auto">
        <source src="healing.mp3" type="audio/mpeg">
    </audio>
    <audio id="wasteSound" preload="auto">
        <source src="waste.mp3" type="audio/mpeg">
    </audio>

    <script>
        const INITIAL_PV = 100;
        const INITIAL_ENERGY = 5;
        const MAX_ENERGY = 12;

        // Vari√°veis para controle do auto-decremento
        let autoDecrementInterval = null;
        let autoDecrementTimeout = null;
        let touchHandled = false;

        // Vari√°veis para controle do dado da sorte
        let diceUsed = {
            p1: false,
            p2: false
        };

        function startAutoDecrement(stat, player, event) {
            // Previne comportamento padr√£o em dispositivos touch para evitar conflitos
            if (event && event.type === 'touchstart') {
                event.preventDefault();
                // Para touch, executa imediatamente um clique e depois inicia o timer
                changeStat(stat, player, -1);
                touchHandled = true;
            }
            
            // Limpa qualquer intervalo anterior
            stopAutoDecrement();
            
            // Aguarda 500ms antes de come√ßar o auto-decremento (para n√£o interferir com clique √∫nico)
            autoDecrementTimeout = setTimeout(() => {
                // Inicia o auto-decremento de 5 pontos por segundo (200ms por ponto)
                autoDecrementInterval = setInterval(() => {
                    changeStat(stat, player, -1);
                }, 200); // 200ms = 5 vezes por segundo
            }, 500);
        }

        function stopAutoDecrement() {
            if (autoDecrementTimeout) {
                clearTimeout(autoDecrementTimeout);
                autoDecrementTimeout = null;
            }
            if (autoDecrementInterval) {
                clearInterval(autoDecrementInterval);
                autoDecrementInterval = null;
            }
            // Reset da flag de touch ap√≥s um pequeno delay
            setTimeout(() => {
                touchHandled = false;
            }, 100);
        }

        function handlePvClick(stat, player, amount, event) {
            // Em dispositivos touch, o onclick s√≥ deve ser executado se n√£o foi um touch longo
            if (event && event.type === 'click' && touchHandled) {
                return; // N√£o executa o click se foi um touch que j√° foi tratado
            }
            
            // Se n√£o h√° auto-decremento ativo, executa o clique √∫nico
            if (!autoDecrementInterval && !autoDecrementTimeout) {
                changeStat(stat, player, amount);
            }
        }

        function changeStat(stat, player, amount) {
            const element = document.getElementById(`${stat}-${player}`);
            let currentValue = parseInt(element.innerText);
            let newValue = currentValue + amount;

            if (newValue < 0) {
                newValue = 0;
            }

            if (stat === 'energy') {
                if (newValue > MAX_ENERGY) {
                    newValue = MAX_ENERGY;
                }
            }

            // Tocar som de soco quando os pontos de vida s√£o diminu√≠dos
            if (stat === 'pv' && amount < 0) {
                const punchSound = document.getElementById('punchSound');
                punchSound.currentTime = 0; // Reinicia o √°udio para permitir m√∫ltiplos cliques r√°pidos
                punchSound.play().catch(error => console.log('Erro ao tocar o som:', error));
            }

            // Tocar som de cura quando os pontos de vida s√£o aumentados
            if (stat === 'pv' && amount > 0) {
                const healingSound = document.getElementById('healingSound');
                healingSound.currentTime = 0;
                healingSound.play().catch(error => console.log('Erro ao tocar o som de cura:', error));
            }

            // Tocar som de energia quando a energia √© aumentada
            if (stat === 'energy' && amount > 0) {
                const energySound = document.getElementById('energySound');
                energySound.currentTime = 0;
                energySound.play().catch(error => console.log('Erro ao tocar o som de energia:', error));
            }

            // Tocar som de waste quando a energia √© diminu√≠da
            if (stat === 'energy' && amount < 0) {
                const wasteSound = document.getElementById('wasteSound');
                wasteSound.currentTime = 0;
                wasteSound.play().catch(error => console.log('Erro ao tocar o som de waste:', error));
            }

            element.innerText = newValue;
            
            if (stat === 'pv') {
                const otherPlayer = player === 'p1' ? 'p2' : 'p1';
                const winnerCard = document.getElementById(`card-${otherPlayer}`);
                const loserCard = document.getElementById(`card-${player}`);
                
                // Limpa as classes de anima√ß√£o de ambos os cards antes de aplicar as novas
                winnerCard.classList.remove('winner-card', 'loser-card');
                loserCard.classList.remove('winner-card', 'loser-card');

                if (newValue <= 0) {
                    element.classList.add('pv-zero');
                    loserCard.classList.add('loser-card');
                    winnerCard.classList.add('winner-card');
                    
                    // Tocar som de vit√≥ria quando um jogador chega a 0 PV
                    const victorySound = document.getElementById('victorySound');
                    victorySound.currentTime = 0;
                    victorySound.play().catch(error => console.log('Erro ao tocar o som de vit√≥ria:', error));
                } else {
                    element.classList.remove('pv-zero');
                }
            }
        }

        function increaseEnergyForBoth() {
            changeStat('energy', 'p1', 1);
            changeStat('energy', 'p2', 1);
        }

        function rollDice(player) {
            // Verifica se o jogador j√° usou o dado
            if (diceUsed[player]) {
                alert('Voc√™ j√° usou o dado da sorte nesta partida!');
                return;
            }

            // Verifica se o jogador tem energia suficiente (m√≠nimo 2)
            const energyElement = document.getElementById(`energy-${player}`);
            const currentEnergy = parseInt(energyElement.innerText);
            
            if (currentEnergy < 2) {
                alert('Voc√™ precisa de pelo menos 2 pontos de energia para usar o dado da sorte!');
                return;
            }

            // Deduz 2 pontos de energia
            changeStat('energy', player, -2);

            // Adiciona anima√ß√£o ao bot√£o do dado
            const diceButton = document.getElementById(`dice-${player}`);
            diceButton.classList.add('dice-animation');

            // Simula o tempo de anima√ß√£o do dado
            setTimeout(() => {
                // Gera um n√∫mero aleat√≥rio entre 1 e 6
                const diceResult = Math.floor(Math.random() * 6) + 1; // 1 a 6
                
                // Adiciona a energia ganha, respeitando o limite de 12
                const newEnergyValue = Math.min(currentEnergy - 2 + diceResult, MAX_ENERGY);
                const actualGain = newEnergyValue - (currentEnergy - 2);
                
                if (actualGain > 0) {
                    changeStat('energy', player, actualGain);
                }
                
                alert(`üé≤ Dado da Sorte! Voc√™ ganhou ${diceResult} pontos de energia!`);

                // Marca que o jogador j√° usou o dado e desabilita o bot√£o
                diceUsed[player] = true;
                diceButton.disabled = true;
                diceButton.title = 'Dado da sorte j√° usado nesta partida';
                
                // Remove a anima√ß√£o
                diceButton.classList.remove('dice-animation');
            }, 800); // Tempo da anima√ß√£o
        }

        function editName(player) {
            const nameElement = document.getElementById(`name-${player}`);
            const newName = prompt('Digite o novo nome do jogador:', nameElement.innerText);
            if (newName !== null && newName.trim() !== '') {
                nameElement.innerText = newName;
            }
        }

        function editStatValue(stat, player) {
            const element = document.getElementById(`${stat}-${player}`);
            const newValue = prompt(`Digite o novo valor para ${element.innerText}:`);
            if (newValue !== null && !isNaN(newValue) && newValue.trim() !== '') {
                let parsedValue = parseInt(newValue);
                if (parsedValue < 0) {
                    parsedValue = 0;
                }
                element.innerText = parsedValue;
                if (stat === 'pv') {
                    const otherPlayer = player === 'p1' ? 'p2' : 'p1';
                    const winnerCard = document.getElementById(`card-${otherPlayer}`);
                    const loserCard = document.getElementById(`card-${player}`);
                    
                    // Limpa as classes de anima√ß√£o de ambos os cards
                    winnerCard.classList.remove('winner-card', 'loser-card');
                    loserCard.classList.remove('winner-card', 'loser-card');
                    
                    if (parsedValue <= 0) {
                        element.classList.add('pv-zero');
                        loserCard.classList.add('loser-card');
                        winnerCard.classList.add('winner-card');
                        
                        // Tocar som de vit√≥ria quando PV √© editado para 0
                        const victorySound = document.getElementById('victorySound');
                        victorySound.currentTime = 0;
                        victorySound.play().catch(error => console.log('Erro ao tocar o som de vit√≥ria:', error));
                    } else {
                        element.classList.remove('pv-zero');
                    }
                }
            }
        }

        function resetGame() {
            const pv1 = document.getElementById('pv-p1');
            const energy1 = document.getElementById('energy-p1');
            const pv2 = document.getElementById('pv-p2');
            const energy2 = document.getElementById('energy-p2');
            const card1 = document.getElementById('card-p1');
            const card2 = document.getElementById('card-p2');
            const dice1 = document.getElementById('dice-p1');
            const dice2 = document.getElementById('dice-p2');

            document.getElementById('name-p1').innerText = "Jogador 1";
            pv1.innerText = INITIAL_PV;
            pv1.classList.remove('pv-zero');
            energy1.innerText = INITIAL_ENERGY;
            card1.classList.remove('winner-card', 'loser-card');
            
            document.getElementById('name-p2').innerText = "Jogador 2";
            pv2.innerText = INITIAL_PV;
            pv2.classList.remove('pv-zero');
            energy2.innerText = INITIAL_ENERGY;
            card2.classList.remove('winner-card', 'loser-card');

            // Reset dos dados da sorte
            diceUsed.p1 = false;
            diceUsed.p2 = false;
            dice1.disabled = false;
            dice2.disabled = false;
            dice1.title = 'Dado da Sorte (2 energia)';
            dice2.title = 'Dado da Sorte (2 energia)';
        }

        function showRulesModal() {
            const modal = document.getElementById('rules-modal');
            modal.classList.add('visible');
        }

        function closeRulesModal() {
            const modal = document.getElementById('rules-modal');
            modal.classList.remove('visible');
        }
    </script>
</body>
</html>
